<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.blogfriday.cart.repository.CartRepository">
	
	<resultMap id="cartResultMap" type="com.blogfriday.cart.dto.CartDTO">
        <id property="cartproductcode" column="cart_product_code"/>
        <result property="productcode" column="product_code"/>
        <result property="cartproductcount" column="cart_product_code"/>
        <result property="userid" column="user_id"/>
        
    </resultMap>
	
   <select id = "findAll" resultType="com.blogfriday.cart.dto.CartDTO">
	   SELECT * FROM Cart
   </select>
   
   <select id="findByCode" parameterType="int" resultType="com.blogfriday.cart.dto.CartDTO">
	   SELECT * FROM cart
	   WHERE cart_product_code = #{cartproductcode}
   </select>
   
 <insert id="insert" parameterType="com.blogfriday.cart.dto.CartDTO">
	INSERT INTO cart
	(productCode, cartProductCount, userId)
     VALUES(#{productCode}, #{cartProductCount}, #{userId})   
   </insert>
	
	<update id="update" parameterType="com.blogfriday.cart.dto.CartDTO">
       UPDATE cart 
       SET cart_product_code = #{cartproductcode}, 
           product_code=#{productcode},
           cart_product_count = #{cartproductcount},
           user_id = #{userid}
       WHERE cartproductcode=#{cartProductCode}
</update>

<delete id="delete" parameterType="int">
	DELETE FROM cart
	WHERE cart_product_code = #{cartproductcode}
	</delete> 

</mapper>   